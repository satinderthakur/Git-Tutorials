utlity functions for version 1